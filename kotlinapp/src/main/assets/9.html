<!DOCTYPE html>
<!-- saved from url=(0053)http://www.runoob.com/kotlin/kotlin-basic-syntax.html -->
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Kotlin 类和对象</title>

	  <link rel="dns-prefetch" href="http://s.w.org/">

		<link rel="stylesheet" href="./css2/style.css" type="text/css" media="all">
		<link rel="stylesheet" href="./css2/font-awesome.min.css" media="all">
		<link rel="stylesheet" type="text/css" href="./css2/prettify.css">
	</head>
<body style="">

<!--  头部 -->

<!-- 导航栏 -->

<div class="container main">
	<!-- 中间 -->
	<div class="row">

<div class="col left-column">

	<div class="sidebar-box gallery-list">

	</div>
</div>
<div class="col middle-column">


	<div class="article">

		<div class="article-body">

			<div class="article-intro" id="content">

			<h1>Kotlin 类和对象</h1>
<h2>类定义</h2>
<p>Kotlin 类可以包含：构造函数和初始化代码块、函数、属性、内部类、对象声明。</p>
<p>Kotlin 中使用关键字 <span class="marked">class</span> 声明类，后面紧跟类名：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Runoob</span><span class="pln"> </span><span class="pun">{</span><span class="pln">  </span><span class="com">// 类名为 Runoob</span><span class="pln">
    </span><span class="com">// 大括号内是类体构成</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>我们也可以定义一个空类：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Empty</span></pre>
<p>可以在类中定义成员函数：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Runoob</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"Foo"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// 成员函数</span><span class="pln">
</span><span class="pun">}</span></pre>

<hr>
<h2>类的属性</h2>
<h3>属性定义</h3>

<p>类的属性可以用关键字 <span class="marked">var</span> 声明为可变的，否则使用只读关键字 <span class="marked">val</span> 声明为不可变。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Runoob</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">……</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">……</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> city</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">……</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>我们可以像使用普通函数那样使用构造函数创建类实例：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">val site </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Runoob</span><span class="pun">()</span><span class="pln"> </span><span class="com">// Kotlin 中没有 new 关键字</span></pre>
<p>要使用一个属性，只要用名称引用它即可</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">site</span><span class="pun">.</span><span class="pln">name           </span><span class="com">// 使用 . 号来引用</span><span class="pln">
site</span><span class="pun">.</span><span class="pln">url</span></pre>
<p>Koltin 中的类可以有一个 主构造器，以及一个或多个次构造器，主构造器是类头部的一部分，位于类名称之后: </p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> constructor</span><span class="pun">(</span><span class="pln">firstName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span></pre><p>
如果主构造器没有任何注解，也没有任何可见度修饰符，那么constructor关键字可以省略。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="pln">firstName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></pre>
<h3>getter 和 setter</h3>
<p>属性声明的完整语法：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">var</span><span class="pln"> </span><span class="str">&lt;propertyName&gt;</span><span class="pun">[:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="typ">PropertyType</span><span class="pun">&gt;]</span><span class="pln"> </span><span class="pun">[=</span><span class="pln"> </span><span class="str">&lt;property_initializer&gt;</span><span class="pun">]</span><span class="pln">
    </span><span class="pun">[&lt;</span><span class="pln">getter</span><span class="pun">&gt;]</span><span class="pln">
    </span><span class="pun">[&lt;</span><span class="pln">setter</span><span class="pun">&gt;]</span><span class="pln">
 </span></pre><p>getter 和 setter 都是可选</p>
 <p>如果属性类型可以从初始化语句或者类的成员函数中推断出来，那就可以省去类型，val不允许设置setter函数，因为它是只读的。</p>
 <pre class="prettyprint prettyprinted" style=""><span class="kwd">var</span><span class="pln"> allByDefault</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pun">?</span><span class="pln"> </span><span class="com">// 错误: 需要一个初始化语句, 默认实现了 getter 和 setter 方法</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> initialized </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">    </span><span class="com">// 类型为 Int, 默认实现了 getter 和 setter</span><span class="pln">
val simple</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pun">?</span><span class="pln">       </span><span class="com">// 类型为 Int ，默认实现 getter ，但必须在构造函数中初始化</span><span class="pln">
val inferredType </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">   </span><span class="com">// 类型为 Int 类型,默认实现 getter</span></pre>

<h3>实例</h3>
<p>以下实例定义了一个 Person 类，包含两个可变变量 lastName 和 no，lastName 修改了 getter 方法，no 修改了 setter 方法。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">var</span><span class="pln"> lastName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"zhang"</span><span class="pln">
        </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> field</span><span class="pun">.</span><span class="pln">toUpperCase</span><span class="pun">()</span><span class="pln">   </span><span class="com">// 将变量赋值后转换为大写</span><span class="pln">
        </span><span class="kwd">set</span><span class="pln">

    </span><span class="kwd">var</span><span class="pln"> </span><span class="kwd">no</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">100</span><span class="pln">
        </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> field                </span><span class="com">// 后端变量</span><span class="pln">
        </span><span class="kwd">set</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">10</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">       </span><span class="com">// 如果传入的值小于 10 返回该值</span><span class="pln">
                field </span><span class="pun">=</span><span class="pln"> value
            </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                field </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln">         </span><span class="com">// 如果传入的值大于等于 10 返回 -1</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">var</span><span class="pln"> heiht</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Float</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">145.4f</span><span class="pln">
        </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">set</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// 测试</span><span class="pln">
fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> person</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">()</span><span class="pln">

    person</span><span class="pun">.</span><span class="pln">lastName </span><span class="pun">=</span><span class="pln"> </span><span class="str">"wang"</span><span class="pln">

    println</span><span class="pun">(</span><span class="str">"lastName:${person.lastName}"</span><span class="pun">)</span><span class="pln">

    person</span><span class="pun">.</span><span class="kwd">no</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">9</span><span class="pln">
    println</span><span class="pun">(</span><span class="str">"no:${person.no}"</span><span class="pun">)</span><span class="pln">

    person</span><span class="pun">.</span><span class="kwd">no</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">20</span><span class="pln">
    println</span><span class="pun">(</span><span class="str">"no:${person.no}"</span><span class="pun">)</span><span class="pln">

</span><span class="pun">}</span></pre>
<p>输出结果为：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">lastName</span><span class="pun">:</span><span class="pln">WANG
</span><span class="kwd">no</span><span class="pun">:</span><span class="lit">9</span><span class="pln">
</span><span class="kwd">no</span><span class="pun">:-</span><span class="lit">1</span></pre>
<p>Kotlin 中类不能有字段。提供了 Backing Fields(后端变量) 机制,备用字段使用field关键字声明,field 关键词只能用于属性的访问器，如以上实例：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">var</span><span class="pln"> </span><span class="kwd">no</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">100</span><span class="pln">
        </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> field                </span><span class="com">// 后端变量</span><span class="pln">
        </span><span class="kwd">set</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">10</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">       </span><span class="com">// 如果传入的值小于 10 返回该值</span><span class="pln">
                field </span><span class="pun">=</span><span class="pln"> value
            </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                field </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln">         </span><span class="com">// 如果传入的值大于等于 10 返回 -1</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span></pre>
<p>非空属性必须在定义的时候初始化,kotlin提供了一种可以延迟初始化的方案,使用 <span class="marked">lateinit</span> 关键字描述属性：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">LazyProperty</span><span class="pun">(</span><span class="pln">val initializer</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="typ">Int</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> value</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pun">?</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln">
    val lazy</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln">
        </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                value </span><span class="pun">=</span><span class="pln"> initializer</span><span class="pun">()</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">!!</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre><hr>
<h2>主构造器</h2>
<p>
主构造器中不能包含任何代码，初始化代码可以放在初始化代码段中，初始化代码段使用 init 关键字作为前缀。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> constructor</span><span class="pun">(</span><span class="pln">firstName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    init </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="kwd">print</span><span class="pun">(</span><span class="str">"FirstName is $firstName"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>注意：主构造器的参数可以在初始化代码段中使用，也可以在类主体n定义的属性初始化代码中使用。
一种简洁语法，可以通过主构造器来定义属性并初始化属性值（可以是var或val）：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">People</span><span class="pun">(</span><span class="pln">val firstName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">,</span><span class="pln"> val lastName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">//...</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>如果构造器有注解，或者有可见度修饰符，这时constructor关键字是必须的，注解和修饰符要放在它之前。</p>
<h3>实例</h3>
<p>创建一个 Runoob类，并通过构造函数传入网站名：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Runoob</span><span class="pln">  constructor</span><span class="pun">(</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">  </span><span class="com">// 类名为 Runoob</span><span class="pln">
    </span><span class="com">// 大括号内是类体构成</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://www.runoob.com"</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> country</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"CN"</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> siteName </span><span class="pun">=</span><span class="pln"> name

    init </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="str">"初始化网站名: ${name}"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    fun printTest</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="str">"我是类的函数"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    val runoob </span><span class="pun">=</span><span class="pln">  </span><span class="typ">Runoob</span><span class="pun">(</span><span class="str">"菜鸟教程"</span><span class="pun">)</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">runoob</span><span class="pun">.</span><span class="pln">siteName</span><span class="pun">)</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">runoob</span><span class="pun">.</span><span class="pln">url</span><span class="pun">)</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">runoob</span><span class="pun">.</span><span class="pln">country</span><span class="pun">)</span><span class="pln">
    runoob</span><span class="pun">.</span><span class="pln">printTest</span><span class="pun">()</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>输出结果为：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pun">初始化网站名:</span><span class="pln"> </span><span class="pun">菜鸟教程</span><span class="pln">
</span><span class="pun">菜鸟教程</span><span class="pln">
http</span><span class="pun">:</span><span class="com">//www.runoob.com</span><span class="pln">
CN
</span><span class="pun">我是类的函数</span></pre>
<hr>
<h2>次构造函数</h2>
<p>类也可以有二级构造函数，需要加前缀 constructor:</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    constructor</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        parent</span><span class="pun">.</span><span class="pln">children</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>如果类有主构造函数，每个次构造函数都要，或直接或间接通过另一个次构造函数代理主构造函数。在同一个类中代理另一个构造函数使用 this 关键字：
</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="pln">val name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    constructor </span><span class="pun">(</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">:</span><span class="typ">Int</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// 初始化...</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>如果一个非抽象类没有声明构造函数(主构造函数或次构造函数)，它会产生一个没有参数的构造函数。构造函数是 public 。如果你不想你的类有公共的构造函数，你就得声明一个空的主构造函数：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">DontCreateMe</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> constructor </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></pre><blockquote>
<p>注意：在 JVM 虚拟机中，如果主构造函数的所有参数都有默认值，编译器会生成一个附加的无参的构造函数，这个构造函数会直接使用默认值。这使得 Kotlin 可以更简单的使用像 Jackson 或者 JPA 这样使用无参构造函数来创建类实例的库。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Customer</span><span class="pun">(</span><span class="pln">val customerName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">)</span></pre>
</blockquote>
<h3>实例</h3>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Runoob</span><span class="pln">  constructor</span><span class="pun">(</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">  </span><span class="com">// 类名为 Runoob</span><span class="pln">
    </span><span class="com">// 大括号内是类体构成</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://www.runoob.com"</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> country</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"CN"</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> siteName </span><span class="pun">=</span><span class="pln"> name

    init </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="str">"初始化网站名: ${name}"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="com">// 次构造函数</span><span class="pln">
    constructor </span><span class="pun">(</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">String</span><span class="pun">,</span><span class="pln"> alexa</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="str">"Alexa 排名 $alexa"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    fun printTest</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="str">"我是类的函数"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    val runoob </span><span class="pun">=</span><span class="pln">  </span><span class="typ">Runoob</span><span class="pun">(</span><span class="str">"菜鸟教程"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10000</span><span class="pun">)</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">runoob</span><span class="pun">.</span><span class="pln">siteName</span><span class="pun">)</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">runoob</span><span class="pun">.</span><span class="pln">url</span><span class="pun">)</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">runoob</span><span class="pun">.</span><span class="pln">country</span><span class="pun">)</span><span class="pln">
    runoob</span><span class="pun">.</span><span class="pln">printTest</span><span class="pun">()</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>输出结果为：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pun">初始化网站名:</span><span class="pln"> </span><span class="pun">菜鸟教程</span><span class="pln">
</span><span class="typ">Alexa</span><span class="pln"> </span><span class="pun">排名</span><span class="pln"> </span><span class="lit">10000</span><span class="pln">
</span><span class="pun">菜鸟教程</span><span class="pln">
http</span><span class="pun">:</span><span class="com">//www.runoob.com</span><span class="pln">
CN
</span><span class="pun">我是类的函数</span></pre><hr>
<h2>抽象类</h2>
<p>抽象是面向对象编程的特征之一，类本身，或类中的部分成员，都可以声明为abstract的。抽象成员在类中不存在具体的实现。
</p><p>
注意：无需对抽象类或抽象成员标注open注解。</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">open </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Base</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    open fun f</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">abstract</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Derived</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">Base</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">override</span><span class="pln"> </span><span class="kwd">abstract</span><span class="pln"> fun f</span><span class="pun">()</span><span class="pln">
</span><span class="pun">}</span></pre>
<hr>
<h2>嵌套类</h2>
<p>我们可以把类嵌套在其他类中，看以下实例：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Outer</span><span class="pln"> </span><span class="pun">{</span><span class="pln">                  </span><span class="com">// 外部类</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> val bar</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
    </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Nested</span><span class="pln"> </span><span class="pun">{</span><span class="pln">             </span><span class="com">// 嵌套类</span><span class="pln">
        fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    val demo </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Outer</span><span class="pun">.</span><span class="typ">Nested</span><span class="pun">().</span><span class="pln">foo</span><span class="pun">()</span><span class="pln"> </span><span class="com">// 调用格式：外部类.嵌套类.嵌套类方法/属性</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">demo</span><span class="pun">)</span><span class="pln">    </span><span class="com">// == 2</span><span class="pln">
</span><span class="pun">}</span></pre><hr>
<h2>内部类</h2>
<p>内部类使用 inner 关键字来表示。</p>
<p>内部类会带有一个对外部类的对象的引用，所以内部类可以访问外部类成员属性和成员函数。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Outer</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> val bar</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> v </span><span class="pun">=</span><span class="pln"> </span><span class="str">"成员属性"</span><span class="pln">
    </span><span class="com">/**嵌套内部类**/</span><span class="pln">
    inner </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Inner</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bar  </span><span class="com">// 访问外部类成员</span><span class="pln">
        fun innerTest</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">var</span><span class="pln"> o </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="lit">@Outer</span><span class="pln"> </span><span class="com">//获取外部类的成员变量</span><span class="pln">
            println</span><span class="pun">(</span><span class="str">"内部类可以引用外部类的成员，例如："</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> o</span><span class="pun">.</span><span class="pln">v</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    val demo </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Outer</span><span class="pun">().</span><span class="typ">Inner</span><span class="pun">().</span><span class="pln">foo</span><span class="pun">()</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">demo</span><span class="pun">)</span><span class="pln"> </span><span class="com">//   1</span><span class="pln">
    val demo2 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Outer</span><span class="pun">().</span><span class="typ">Inner</span><span class="pun">().</span><span class="pln">innerTest</span><span class="pun">()</span><span class="pln">
    println</span><span class="pun">(</span><span class="pln">demo2</span><span class="pun">)</span><span class="pln">   </span><span class="com">// 内部类可以引用外部类的成员，例如：成员属性</span><span class="pln">
</span><span class="pun">}</span></pre>

<p>为了消除歧义，要访问来自外部作用域的 this，我们使用this@label，其中 @label 是一个 代指 this 来源的标签。</p><hr>
<h2>匿名内部类</h2>
<p>使用对象表达式来创建匿名内部类：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">class</span><span class="pln"> </span><span class="typ">Test</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> v </span><span class="pun">=</span><span class="pln"> </span><span class="str">"成员属性"</span><span class="pln">

    fun setInterFace</span><span class="pun">(</span><span class="pln">test</span><span class="pun">:</span><span class="pln"> </span><span class="typ">TestInterFace</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        test</span><span class="pun">.</span><span class="pln">test</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">/**
 * 定义接口
 */</span><span class="pln">
</span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">TestInterFace</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fun test</span><span class="pun">()</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> test </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Test</span><span class="pun">()</span><span class="pln">

    </span><span class="com">/**
     * 采用对象表达式来创建接口对象，即匿名内部类的实例。
     */</span><span class="pln">
    test</span><span class="pun">.</span><span class="pln">setInterFace</span><span class="pun">(</span><span class="kwd">object</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">TestInterFace</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">override</span><span class="pln"> fun test</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            println</span><span class="pun">(</span><span class="str">"对象表达式创建匿名内部类的实例"</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
</span><span class="pun">}</span></pre>

<hr>
<h2>类的修饰符</h2>
<p>类的修饰符包括 classModifier 和_accessModifier_:</p>
<ul><li><p>classModifier: 类属性修饰符，标示类本身特性。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">abstract</span><span class="pln">    </span><span class="com">// 抽象类  </span><span class="pln">
</span><span class="kwd">final</span><span class="pln">       </span><span class="com">// 类不可继承，默认属性</span><span class="pln">
</span><span class="kwd">enum</span><span class="pln">        </span><span class="com">// 枚举类</span><span class="pln">
open        </span><span class="com">// 类可继承，类默认是final的</span><span class="pln">
annotation  </span><span class="com">// 注解类</span></pre>
</li>
<li><p>accessModifier: 访问权限修饰符</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">private</span><span class="pln">    </span><span class="com">// 仅在同一个文件中可见</span><span class="pln">
</span><span class="kwd">protected</span><span class="pln">  </span><span class="com">// 同一个文件中或子类可见</span><span class="pln">
</span><span class="kwd">public</span><span class="pln">     </span><span class="com">// 所有调用的地方都可见</span><span class="pln">
</span><span class="kwd">internal</span><span class="pln">   </span><span class="com">// 同一个模块中可见</span></pre>

</li></ul>
<h3>实例</h3>
<pre class="prettyprint prettyprinted" style=""><span class="com">// 文件名：example.kt</span><span class="pln">
</span><span class="kwd">package</span><span class="pln"> foo

</span><span class="kwd">private</span><span class="pln"> fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"> </span><span class="com">// 在 example.kt 内可见</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">var</span><span class="pln"> bar</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pln"> </span><span class="com">// 该属性随处可见</span><span class="pln">

</span><span class="kwd">internal</span><span class="pln"> val baz </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pln">    </span><span class="com">// 相同模块内可见</span></pre>

			</div>
		</div>
	</div>
</div>
<!-- 右边栏 -->
<div class="fivecol last right-column">

<style>
.sidebar-tree .double-li {
	width:300px;
}
.sidebar-tree .double-li li {
    width: 44%;
    line-height: 1.5em;
    border-bottom: 1px solid #ccc;
    float: left;
    display: inline;
}
</style>

<style>
ol,ul{list-style:none}.cd-switcher a{text-decoration:none;outline:0}.cd-switcher a:hover{text-decoration:underline}a:focus{outline:0;-moz-outline:0}.main_nav{width:300px;height:60px;margin:60px auto 10px auto}.main_nav li{float:left;width:60px;margin-right:10px;font-size:16px;padding:.6em 1em;border-radius:3em;background:#2f889a;text-align:center}.main_nav li a{color:#fff}.errtip{background-color:#fceaea;color:#db5353;padding:8px 15px;font-size:14px;border:1px solid #fc9797;border-radius:5px}.cd-user-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(52,54,66,0.9);z-index:3;overflow-y:auto;cursor:pointer;visibility:hidden;opacity:0;-webkit-transition:opacity .3s 0,visibility 0 .3s;-moz-transition:opacity .3s 0,visibility 0 .3s;transition:opacity .3s 0,visibility 0 .3s}.cd-user-modal.is-visible{visibility:visible;opacity:1;-webkit-transition:opacity .3s 0,visibility 0 0;-moz-transition:opacity .3s 0,visibility 0 0;transition:opacity .3s 0,visibility 0 0}.cd-user-modal.is-visible .cd-user-modal-container{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}.cd-user-modal-container{position:relative;width:90%;max-width:500px;background:#FFF;margin:3em auto 4em;cursor:auto;border-radius:.25em;-webkit-transform:translateY(-30px);-moz-transform:translateY(-30px);-ms-transform:translateY(-30px);-o-transform:translateY(-30px);transform:translateY(-30px);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:transform;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;transition-duration:.3s}.cd-user-modal-container .cd-switcher:after{content:"";display:table;clear:both}.cd-user-modal-container .cd-switcher li{width:50%;float:left;text-align:center}.cd-user-modal-container .cd-switcher li:first-child a{border-radius:.25em 0 0 0}.cd-user-modal-container .cd-switcher li:last-child a{border-radius:0 .25em 0 0}.cd-user-modal-container .cd-switcher a{font-size:1.2em;font-weight:bold;display:block;width:100%;height:50px;line-height:50px;background:#e8f1e2;color:#96b880}.cd-user-modal-container .cd-switcher a.selected{background:#FFF;color:#505260}@media only screen and (min-width:600px){.cd-user-modal-container{margin:4em auto}.cd-user-modal-container .cd-switcher a{height:70px;line-height:70px}}.cd-form{padding:1.4em}.cd-form .fieldset{position:relative;margin:1.4em 0}.cd-form .fieldset:first-child{margin-top:0}.cd-form .fieldset:last-child{margin-bottom:0}.cd-form label{font-size:16px;font-size:.875rem}.cd-form label.image-replace{display:inline-block;position:absolute;left:15px;top:50%;bottom:auto;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);height:20px;width:20px;overflow:hidden;text-indent:100%;white-space:nowrap;color:transparent;text-shadow:none;background-repeat:no-repeat;background-position:50% 0}.cd-form label.cd-username{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-username.svg")}.cd-form label.cd-email{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-email.svg")}.cd-form label.cd-password{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-password.svg")}.cd-form input{margin:0;padding:0;border-radius:.25em}.cd-form input.full-width{width:80%}.cd-form input.full-width2{width:94%}.cd-form input.has-padding{padding:12px 20px 12px 50px}.cd-form input.has-border{border:1px solid #d2d8d8;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none}.cd-form input.has-border:focus{border-color:#98b880;box-shadow:0 0 5px rgba(52,54,66,0.1);outline:0}.cd-form input.has-error{border:1px solid #d76666}.cd-form input[type=password]{padding-right:65px}.cd-form input[type=submit]{padding:16px 0;cursor:pointer;background:#96b97d;color:#FFF;font-weight:bold;border:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;font-size:1.2em;font-weight:bold}.no-touch .cd-form input[type=submit]:hover,.no-touch .cd-form input[type=submit]:focus{background:#3599ae;outline:0}@media only screen and (min-width:600px){.cd-form{padding:2em}.cd-form .fieldset{margin:2em 0}.cd-form .fieldset:first-child{margin-top:0}.cd-form .fieldset:last-child{margin-bottom:0}.cd-form input.has-padding{padding:16px 20px 16px 50px}.cd-form input[type=submit]{padding:16px 0}}.cd-close-form{display:block;position:absolute;width:40px;height:40px;right:0;top:-40px;background:url("/wp-content/themes/runoob/assets/img/cd-icon-close.svg") no-repeat center center;text-indent:100%;white-space:nowrap;overflow:hidden}@media only screen and (min-width:1170px){}#cd-login,#cd-signup,#cd-reset-password{display:none}#cd-login.is-selected,#cd-signup.is-selected,#cd-reset-password.is-selected{display:block}
</style>


</body></html>
