<!DOCTYPE html>
<!-- saved from url=(0053)http://www.runoob.com/kotlin/kotlin-basic-syntax.html -->
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Kotlin 循环控制</title>

	  <link rel="dns-prefetch" href="http://s.w.org/">

		<link rel="stylesheet" href="./css2/style.css" type="text/css" media="all">
		<link rel="stylesheet" href="./css2/font-awesome.min.css" media="all">
		<link rel="stylesheet" type="text/css" href="./css2/prettify.css">
	</head>
<body style="">

<!--  头部 -->

<!-- 导航栏 -->

<div class="container main">
	<!-- 中间 -->
	<div class="row">

<div class="col left-column">

	<div class="sidebar-box gallery-list">

	</div>
</div>
<div class="col middle-column">

<div class="article">
		
		<div class="article-body">

			<div class="article-intro" id="content">

			<h1>Kotlin 循环控制</h1>
<h2>For 循环</h2>
<p>for 循环可以对任何提供迭代器（iterator）的对象进行遍历，语法如下:</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="kwd">in</span><span class="pln"> collection</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">item</span><span class="pun">)</span></pre>
<p>循环体可以是一个代码块:</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> ints</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ……</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>如上所述，for 可以循环遍历任何提供了迭代器的对象。
</p><p>如果你想要通过索引遍历一个数组或者一个 list，你可以这么做：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="kwd">in</span><span class="pln"> array</span><span class="pun">.</span><span class="pln">indices</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">array</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>注意这种"在区间上遍历"会编译成优化的实现而不会创建额外对象。
</p><p>
或者你可以用库函数 withIndex：</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pln"> </span><span class="pun">((</span><span class="pln">index</span><span class="pun">,</span><span class="pln"> value</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> array</span><span class="pun">.</span><span class="pln">withIndex</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    println</span><span class="pun">(</span><span class="str">"the element at $index is $value"</span><span class="pun">)</span><span class="pln">
</span><span class="pun">}</span></pre>
<h3>实例</h3>
<p>对集合进行迭代：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    val items </span><span class="pun">=</span><span class="pln"> listOf</span><span class="pun">(</span><span class="str">"apple"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"banana"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"kiwi"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item </span><span class="kwd">in</span><span class="pln"> items</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="pln">item</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">index </span><span class="kwd">in</span><span class="pln"> items</span><span class="pun">.</span><span class="pln">indices</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="str">"item at $index is ${items[index]}"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre><p>输出结果：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">apple
banana
kiwi
item at </span><span class="lit">0</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> apple
item at </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> banana
item at </span><span class="lit">2</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> kiwi</span></pre>
<hr>
<h2>while 与 do...while 循环</h2>
<p>while是最基本的循环，它的结构为：</p>

<pre class="prettyprint prettyprinted" style=""><span class="kwd">while</span><span class="pun">(</span><span class="pln"> </span><span class="pun">布尔表达式</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">//循环内容</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>do…while 循环
对于 while 语句而言，如果不满足条件，则不能进入循环。但有时候我们需要即使不满足条件，也至少执行一次。</p><p>
do…while 循环和 while 循环相似，不同的是，do…while 循环至少会执行一次。</p>
<pre class="prettyprint prettyprinted" style=""><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="com">//代码语句</span><span class="pln">
</span><span class="pun">}</span><span class="kwd">while</span><span class="pun">(布尔表达式);</span><span class="pln">
</span></pre>
do {
       //代码语句
}while(布尔表达式);
<h3>实例</h3>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    println</span><span class="pun">(</span><span class="str">"----while 使用-----"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="pln"> x</span><span class="pun">--)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    println</span><span class="pun">(</span><span class="str">"----do...while 使用-----"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pln">
    </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        println</span><span class="pun">(</span><span class="pln">y</span><span class="pun">--)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">y</span><span class="pun">&gt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln">
</span><span class="pun">}</span></pre>

<p>输出结果：</p>
<pre class="prettyprint prettyprinted" style=""><span class="lit">5</span><span class="pln">
</span><span class="lit">4</span><span class="pln">
</span><span class="lit">3</span><span class="pln">
</span><span class="lit">2</span><span class="pln">
</span><span class="lit">1</span><span class="pln">
</span><span class="pun">----</span><span class="kwd">do</span><span class="pun">...</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">使用-----</span><span class="pln">
</span><span class="lit">5</span><span class="pln">
</span><span class="lit">4</span><span class="pln">
</span><span class="lit">3</span><span class="pln">
</span><span class="lit">2</span><span class="pln">
</span><span class="lit">1</span></pre>

<hr>
<h2>返回和跳转</h2>

<p>Kotlin 有三种结构化跳转表达式：</p>
<ul>
<li><em class="keyword">return</em>。默认从最直接包围它的函数或者匿名函数返回。</li>
<li><em class="keyword">break</em>。终止最直接包围它的循环。</li>
<li><em class="keyword">continue</em>。继续下一次最直接包围它的循环。</li>
</ul><p>在循环中 Kotlin 支持传统的 break 和 continue 操作符。</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun main</span><span class="pun">(</span><span class="pln">args</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="kwd">in</span><span class="pln"> </span><span class="lit">1.</span><span class="pun">.</span><span class="lit">10</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">==</span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pln">  </span><span class="com">// i 为 3 时跳过当前循环，继续下一次循环</span><span class="pln">
        println</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">&gt;</span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pln">   </span><span class="com">// i 为 6 时 跳出循环</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>输出结果：</p>
<pre class="prettyprint prettyprinted" style=""><span class="lit">1</span><span class="pln">
</span><span class="lit">2</span><span class="pln">
</span><span class="lit">4</span><span class="pln">
</span><span class="lit">5</span><span class="pln">
</span><span class="lit">6</span></pre>
<h3>Break 和 Continue 标签</h3>
<p>在 Kotlin 中任何表达式都可以用标签（label）来标记。 标签的格式为标识符后跟 @ 符号，例如：abc@、fooBar@都是有效的标签。 要为一个表达式加标签，我们只要在其前加标签即可。</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">loop@ </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="kwd">in</span><span class="pln"> </span><span class="lit">1.</span><span class="pun">.</span><span class="lit">100</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// ……</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>现在，我们可以用标签限制 break 或者continue：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">loop@ </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="kwd">in</span><span class="pln"> </span><span class="lit">1.</span><span class="pun">.</span><span class="lit">100</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="kwd">in</span><span class="pln"> </span><span class="lit">1.</span><span class="pun">.</span><span class="lit">100</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(……)</span><span class="pln"> </span><span class="kwd">break</span><span class="lit">@loop</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>标签限制的 break 跳转到刚好位于该标签指定的循环后面的执行点。 continue 继续标签指定的循环的下一次迭代。</p>
<h3>标签处返回</h3>
<p>Kotlin 有函数字面量、局部函数和对象表达式。因此 Kotlin 的函数可以被嵌套。 标签限制的 return 允许我们从外层函数返回。 最重要的一个用途就是从 lambda 表达式中返回。回想一下我们这么写的时候：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    ints</span><span class="pun">.</span><span class="pln">forEach </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">it </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln">
        </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">it</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>这个 return 表达式从最直接包围它的函数即 foo 中返回。 （注意，这种非局部的返回只支持传给内联函数的 lambda 表达式。） 如果我们需要从 lambda 表达式中返回，我们必须给它加标签并用以限制 return。</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    ints</span><span class="pun">.</span><span class="pln">forEach lit@ </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">it </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="lit">@lit</span><span class="pln">
        </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">it</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>现在，它只会从 lambda 表达式中返回。通常情况下使用隐式标签更方便。 该标签与接受该 lambda 的函数同名。</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    ints</span><span class="pun">.</span><span class="pln">forEach </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">it </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="lit">@forEach</span><span class="pln">
        </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">it</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>或者，我们用一个匿名函数替代 lambda 表达式。 匿名函数内部的 return 语句将从该匿名函数自身返回</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">fun foo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    ints</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">fun</span><span class="pun">(</span><span class="pln">value</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Int</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln">
        </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
</span><span class="pun">}</span></pre>
<p>当要返一个回值的时候，解析器优先选用标签限制的 return，即
</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">return</span><span class="lit">@a</span><span class="pln"> </span><span class="lit">1</span></pre><p>
意为"从标签 @a 返回 1"，而不是"返回一个标签标注的表达式 (@a 1)"。</p>

			</div>
		</div>
	</div>


<!-- 右边栏 -->
<div class="fivecol last right-column">

<style>
.sidebar-tree .double-li {
	width:300px;
}
.sidebar-tree .double-li li {
    width: 44%;
    line-height: 1.5em;
    border-bottom: 1px solid #ccc;
    float: left;
    display: inline;
}
</style>

<style>
ol,ul{list-style:none}.cd-switcher a{text-decoration:none;outline:0}.cd-switcher a:hover{text-decoration:underline}a:focus{outline:0;-moz-outline:0}.main_nav{width:300px;height:60px;margin:60px auto 10px auto}.main_nav li{float:left;width:60px;margin-right:10px;font-size:16px;padding:.6em 1em;border-radius:3em;background:#2f889a;text-align:center}.main_nav li a{color:#fff}.errtip{background-color:#fceaea;color:#db5353;padding:8px 15px;font-size:14px;border:1px solid #fc9797;border-radius:5px}.cd-user-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(52,54,66,0.9);z-index:3;overflow-y:auto;cursor:pointer;visibility:hidden;opacity:0;-webkit-transition:opacity .3s 0,visibility 0 .3s;-moz-transition:opacity .3s 0,visibility 0 .3s;transition:opacity .3s 0,visibility 0 .3s}.cd-user-modal.is-visible{visibility:visible;opacity:1;-webkit-transition:opacity .3s 0,visibility 0 0;-moz-transition:opacity .3s 0,visibility 0 0;transition:opacity .3s 0,visibility 0 0}.cd-user-modal.is-visible .cd-user-modal-container{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}.cd-user-modal-container{position:relative;width:90%;max-width:500px;background:#FFF;margin:3em auto 4em;cursor:auto;border-radius:.25em;-webkit-transform:translateY(-30px);-moz-transform:translateY(-30px);-ms-transform:translateY(-30px);-o-transform:translateY(-30px);transform:translateY(-30px);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:transform;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;transition-duration:.3s}.cd-user-modal-container .cd-switcher:after{content:"";display:table;clear:both}.cd-user-modal-container .cd-switcher li{width:50%;float:left;text-align:center}.cd-user-modal-container .cd-switcher li:first-child a{border-radius:.25em 0 0 0}.cd-user-modal-container .cd-switcher li:last-child a{border-radius:0 .25em 0 0}.cd-user-modal-container .cd-switcher a{font-size:1.2em;font-weight:bold;display:block;width:100%;height:50px;line-height:50px;background:#e8f1e2;color:#96b880}.cd-user-modal-container .cd-switcher a.selected{background:#FFF;color:#505260}@media only screen and (min-width:600px){.cd-user-modal-container{margin:4em auto}.cd-user-modal-container .cd-switcher a{height:70px;line-height:70px}}.cd-form{padding:1.4em}.cd-form .fieldset{position:relative;margin:1.4em 0}.cd-form .fieldset:first-child{margin-top:0}.cd-form .fieldset:last-child{margin-bottom:0}.cd-form label{font-size:16px;font-size:.875rem}.cd-form label.image-replace{display:inline-block;position:absolute;left:15px;top:50%;bottom:auto;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);height:20px;width:20px;overflow:hidden;text-indent:100%;white-space:nowrap;color:transparent;text-shadow:none;background-repeat:no-repeat;background-position:50% 0}.cd-form label.cd-username{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-username.svg")}.cd-form label.cd-email{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-email.svg")}.cd-form label.cd-password{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-password.svg")}.cd-form input{margin:0;padding:0;border-radius:.25em}.cd-form input.full-width{width:80%}.cd-form input.full-width2{width:94%}.cd-form input.has-padding{padding:12px 20px 12px 50px}.cd-form input.has-border{border:1px solid #d2d8d8;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none}.cd-form input.has-border:focus{border-color:#98b880;box-shadow:0 0 5px rgba(52,54,66,0.1);outline:0}.cd-form input.has-error{border:1px solid #d76666}.cd-form input[type=password]{padding-right:65px}.cd-form input[type=submit]{padding:16px 0;cursor:pointer;background:#96b97d;color:#FFF;font-weight:bold;border:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;font-size:1.2em;font-weight:bold}.no-touch .cd-form input[type=submit]:hover,.no-touch .cd-form input[type=submit]:focus{background:#3599ae;outline:0}@media only screen and (min-width:600px){.cd-form{padding:2em}.cd-form .fieldset{margin:2em 0}.cd-form .fieldset:first-child{margin-top:0}.cd-form .fieldset:last-child{margin-bottom:0}.cd-form input.has-padding{padding:16px 20px 16px 50px}.cd-form input[type=submit]{padding:16px 0}}.cd-close-form{display:block;position:absolute;width:40px;height:40px;right:0;top:-40px;background:url("/wp-content/themes/runoob/assets/img/cd-icon-close.svg") no-repeat center center;text-indent:100%;white-space:nowrap;overflow:hidden}@media only screen and (min-width:1170px){}#cd-login,#cd-signup,#cd-reset-password{display:none}#cd-login.is-selected,#cd-signup.is-selected,#cd-reset-password.is-selected{display:block}
</style>


</body></html>
